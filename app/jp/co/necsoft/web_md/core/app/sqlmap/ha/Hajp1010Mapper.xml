<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="jp.co.necsoft.web_md.core.app.sqlmap.ha.Hajp1010Mapper">
    <resultMap id="BaseResultMap" type="jp.co.necsoft.web_md.core.common.mybatis.dto.H130herr" >
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Wed Jan 22 09:53:11 JST 2014.
        -->
        <result column="TEN_CD" property="tenCd" jdbcType="VARCHAR" />
        <result column="TEN_NM" property="tenNm" jdbcType="VARCHAR" />
        <result column="BMN_CD" property="bmnCd" jdbcType="VARCHAR" />
        <result column="TOK_KBN" property="tokKbn" jdbcType="VARCHAR" />
        <result column="TOK_CD" property="tokCd" jdbcType="VARCHAR" />
        <result column="SHN_CD" property="shnCd" jdbcType="VARCHAR" />
        <result column="SHN_NM" property="shnNm" jdbcType="VARCHAR" />
        <result column="MKR_NM" property="mkrNm" jdbcType="VARCHAR" />
        <result column="KIKAKU_NM" property="kikakuNm" jdbcType="VARCHAR" />
        <result column="HAT_SU" property="hatSu" jdbcType="DECIMAL" />
        <result column="HAT_DD" property="hatDd" jdbcType="VARCHAR" />
        <result column="NHN_DD" property="nhnDd" jdbcType="VARCHAR" />
        <result column="SEND_DD" property="sendDd" jdbcType="VARCHAR" />
        <result column="SEND_TIME" property="sendTime" jdbcType="VARCHAR" />
        <result column="HAT_SRUI_KBN" property="hatSruiKbn" jdbcType="VARCHAR" />
        <result column="HAT_SRUI" property="hatSrui" jdbcType="VARCHAR" />
        <result column="TRI_CD" property="triCd" jdbcType="VARCHAR" />
        <result column="TRI_NM" property="triNm" jdbcType="VARCHAR" />
        <result column="ERR_CD" property="errCd" jdbcType="VARCHAR" />
        <result column="ERR_MSG" property="errMsg" jdbcType="VARCHAR" />
        <result column="FILLER" property="filler" jdbcType="VARCHAR" />
        <result column="CMN_TANTO_CD" property="cmnTantoCd" jdbcType="VARCHAR" />
        <result column="CMN_TERM_ID" property="cmnTermId" jdbcType="VARCHAR" />
        <result column="CMN_INSDD" property="cmnInsdd" jdbcType="VARCHAR" />
        <result column="CMN_UPDDD" property="cmnUpddd" jdbcType="VARCHAR" />
        <result column="CMN_UPDTIME" property="cmnUpdtime" jdbcType="VARCHAR" />
    </resultMap>

    <select id="selectH130herr" resultMap="BaseResultMap"
            parameterType="jp.co.necsoft.web_md.core.app.forms.ha.Hajp1010CondForm">
        <!-- This element is generated from HABN1010#execute. -->
        SELECT
            TEN_CD
            ,TEN_NM
            ,BMN_CD
            ,TOK_KBN
            ,TOK_CD
            ,SHN_CD
            ,SHN_NM
            ,MKR_NM
            ,KIKAKU_NM
            ,HAT_SU
            ,HAT_DD
            ,NHN_DD
            ,SEND_DD
            ,SEND_TIME
            ,HAT_SRUI_KBN
            ,HAT_SRUI
            ,TRI_CD
            ,TRI_NM
            ,ERR_CD
            ,ERR_MSG
            ,FILLER
            ,CMN_TANTO_CD
            ,CMN_TERM_ID
            ,CMN_INSDD
            ,CMN_UPDDD
            ,CMN_UPDTIME
            FROM
            H130HERR
        WHERE
            SUBSTR(TEN_CD,1,2) = #{kaisyaCd}
            <if test="hatDdEd != ''">
                AND HAT_DD Between #{hatDdSt} And #{hatDdEd}
            </if>
            <if test="hatDdEd == ''">
                AND HAT_DD = #{hatDdSt}
            </if>
            <if test="jigyobuCd != ''">
                AND SUBSTR(TEN_CD,3,2) = #{jigyobuCd}
                <choose>
                    <when test="bmnSt != '' and bmnEd != ''">
                        AND BMN_CD Between #{bmnSt} And #{bmnEd}
                    </when>
                    <when test="bmnSt != '' and bmnEd == ''">
                        AND BMN_CD = #{bmnSt}
                    </when>
                    <when test="bmnSt == '' and bmnEd != ''">
                        AND BMN_CD = #{bmnEd}
                    </when>
                    <otherwise>
                    </otherwise>
                </choose>
                <choose>
                    <when test="tenCdSt != '' and tenCdEd != ''">
                        AND SUBSTR(TEN_CD,5,3) Between #{tenCdSt} And #{tenCdEd}
                    </when>
                    <when test="tenCdSt != '' and tenCdEd == ''">
                        AND SUBSTR(TEN_CD,5,3) = #{tenCdSt}
                    </when>
                    <when test="tenCdSt == '' and tenCdEd != ''">
                        AND SUBSTR(TEN_CD,5,3) = #{tenCdEd}
                    </when>
                    <otherwise>
                    </otherwise>
                </choose>
            </if>
            <if test="hatSruiKbn != ''">
                AND HAT_SRUI_KBN = #{hatSruiKbn}
            </if>
        ORDER BY
            TEN_CD
            ,HAT_SRUI_KBN
            ,HAT_DD
            ,NHN_DD
            ,BMN_CD
            ,TOK_KBN
            ,TOK_CD
            ,SHN_CD
    </select>
</mapper>
